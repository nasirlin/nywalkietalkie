# NY Walkie-Talkie

**NY Walkie-Talkie** 是一個基於 Node.js、Socket.io 和 Redis 構建的即時語音和視訊廣播應用程式。它模擬了一個簡易的對講機系統，允許使用者在一個 8 位數ID 內進行即時的語音通訊和視訊畫面分享。

## 專案亮點

* **即時通訊：** 使用 Socket.io 實時傳輸音訊 Blob，實現低延遲的語音通訊。
* **視訊快照廣播：** 透過 Canvas 將視訊幀轉為 Base64 圖像並以低幀率 (5 FPS) 廣播，以節省頻寬
* **Redis 房間管理：** 使用 Redis 存儲房間 ID 和房主 Token，並設置 24 小時過期，實現簡單高效的房間生命週期管理。
* **獨立主機控制：** 房間建立者（房主）擁有獨立的 Token，可以強制解散頻道並踢出所有使用者。

## 技術

| 類別 | 技術 | 說明 |
| :--- | :--- | :--- |
| **後端** | Node.js / Express | 輕量級且高性能的伺服器環境。 |
| **實時通訊** | Socket.io | 處理 WebSocket 連線和實時數據傳輸。 |
| **數據庫** | ioredis (Redis) | 存儲房間狀態（ID, Token），利用其 `EX` 功能管理房間過期時間。 |
| **前端** | HTML5, CSS3 (Bootstrap) | 響應式介面和視覺設計。 |
| **媒體** | MediaRecorder, Canvas | 用於錄製音訊和處理視訊幀。 |


## HOW TO USE

1.  **建立頻道：** 點擊 **"CREATE NEW CHANNEL"**，系統將自動產生 8 位數的 `CHANNEL ID` 和您獨有的 `Host Token`（儲存在瀏覽器 LocalStorage）。
2.  **加入頻道：** 輸入 8 位數的 `CHANNEL ID`，點擊 **"JOIN CHANNEL"**。
3.  **語音和視訊：** 連線成功後，應用程式會自動開始：
    * 以 100 毫秒的間隔錄製並廣播音訊。
    * 以 5 FPS 的幀率截取視訊快照並廣播。
4.  **房主控制：** 房主可見 **"TERMINATE ALL SIGNALS"** 按鈕，點擊後將永久刪除房間紀錄並強制所有連線使用者斷開。
5.  **離開：** 點擊 **"DISCONNECT"** 斷開連線並退出房間。

## ⚠️ 重要提示

### 語音與視訊限制

本應用程式設計目的為模擬對講機的「**推即說 (Push-to-Talk)**」精神，但為了簡化，採用了 **自動持續廣播 (Always-on)** 模式：

* **音訊：** 採用 `MediaRecorder` 錄製小段音訊 Blob 並連續發送，**無法實現全雙工通話**。當多人同時說話時，音訊會疊加播放。
* **視訊：** 採用 Canvas 截圖並廣播 Base64 圖片，**並非標準 WebRTC 視訊流**，畫質和幀率受限於設計。
